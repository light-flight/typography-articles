# Веб-типографика абсолютно нарушена?

Недавно я наткнулся на статью *"Веб типографика нарушена. Вот как мы можем это поправить".* Я испытал много смешанных эмоций, когда прочитал это. Я обнаружил, что самый весомый аргумент, который использовал Том, заключался в том, что все символы не сидят идеально на базовой линии, как это предусматиривается в печатной типографике.

С одной стороны мне было очень интересно посмотреть, как люди находят подход для написания кода, который решает эту задачу.

С другой стороны я был в замешательстве. Я спросил себя: *"Действительно ли это так важно, посадить шрифт на базовую линию?"* Я осознаю важность вертикального ритма и сетки базовых линий. Я также понимаю всю важность деталей, когда дело касается дизайна. **Но достаточно ли этой единственной детали, чтобы сломать веб типографику?**

Когда я искал в интернете ответы, я обнаружил, что даже такие великие дизайнеры, как Mark Boulton, замечали, что это было бы очень круто, если бы CSS обеспечил нас сеткой базовых линий, которая не приносила бы столько головной боли.

Это усилило мое побуждение разузнать, действительно ли эта деталь приводит к нарушению типографики или как-либо проблемам, связанным с этим. Ну уж если такой авторитетный дизайнер заявил, что в этом есть некоторые сложности, то наверняка точное попадание в сетку базовых линий должно быть важно. Верно?

Прежде чем мы углубимся в вопрос, давайте посмотрим о какой именно проблеме сетки базовых линий идет речь.

## Сетка базовых линий в веб-дизайне

Сетка базовых линий это первоочередное проявление вертикального ритма. Вертикальный ритм подразумевает согласовонное использование свободного пространства между элементами с помощью базовых линий. Именно базовые линии позволяют нам согласованно и последовательно распределять элементы по вертикали.

Когда эти базовые линии визуализируются вместе на одной странице, то мы получаем, так называемую, сетку базовых линий.

В веб-дизайне базовая линия определяется свойством `line-height` тела документа (`body`). Если значение `line-height` эквивалентно `24px`, то говорят что базовая линия равна `24px`.

Создание сетки базовых линий на сайте момент не простой. На сегодняшний день одним из удобных способов визуализации такой сетки является использование `linear-repeating-gradient()`. Вот как это выглядит для базовой линии в `24px`:

```scss
body {
  background-image: repeating-linear-gradient(to bottom, transparent 0px, transparent 23px, red 23px, red 24px);
}
```

Обычно в сети базовые линии визуализируются именно таким образом:

Так происходит, потому что свойство `line-height` создает строки с определенной высотой, символы в которых распределяется ровно посередине каждой строки.

Однако в печатном дизайне все немного отличается. Текст как бы сидит на базовой линии:

Мы можем попробовать заставить нашу сетку вести себя так же как и в печатном дизайне следующими двумя способами:

**Первый способ** заключается в изменении свойства `background-position` так, чтобы текст осел на базовую линию:

```scss
body {
  background-image: repeating-linear-gradient(to bottom, transparent 0px, transparent 23px, red 23px, red 24px);
  /* Смещаем базовую сетку */
  background-position: 0 -6px;
}
```

**Второй метод** заключается в смещении всех текстовых элементов, вместо смещения самой сетки.

```scss
p {
  position: relative;
  top: 6px;
}
```

Ситуация немного усложняется, когда мы имеем дело с множеством элементов с разной высотой строки. Допустим у заголовка первого уровня, высота строки будет в два раза больше нашей базовой величины (т.е. получится `48px`).

В таком случае мы увидим, что `<h1>` **находится немного выше базовой линии** вне зависимости от метода, используемого для приведения сетки к "печатному варианту".

Один из способов иправить это "неправильное" выравнивание, это сместить заголовок немного ниже, используя свойство `top`. Подобную работу необходимо проделать со всеми элементами, которые не сели на сетку.

```scss
h1 {
  position: relative;
  top: 6px;
}
```

На практике расположить все текстовые элементы на такой сетке правильным образом это довольно трудная задача. Сложность возрастает с увеличением количества шрифтов и начертаний. Еще сложнее это сделать для отзывчивых сайтов. До некоторого времени мне приходилось вручную настраивать `<h1>` и `<p>` и определять результаты на глаз.

Есть два решения, которые позволяют справиться с этой задачей. Первое это библиотека под названием [Sassline](https://sassline.com/ "Set text on the web to a baseline grid with Sass & rems"), которую создал [Jake Giltsoff](https://jakegiltsoff.co.uk/). И вторая библотека, названная [MegaType](https://github.com/studiothick/megatype "Execute typographic structure with ease"), которая собрал [Thomas Bredin-Grey](https://github.com/tbredin).

Надо признать, CSS у обеих библиотек довольно сложный. Вот, например, то что предоставляет Sassline:

Как вы видите, Sassline использует отрицательные `margin` вместе с `padding`, чтобы сместить текст. Довольно непростой подход.

У MegaType на выходе получается нечто следующее:

Тут используется свойства `position`, `top` и `margin`. Ничуть не проще чем в предыдущем варианте.

Это здорово, что Jake и Tom подошли к корректировке базовой линии таким образом. Это те самые изобретательные решения, которые выводят веб-типографику на новый уровень.

Но это вам для общего ознакомления. Давайте двинемся дальше и разберемся, действительно ли это так важно, поместить текст на базовую линию. Чтобы это узнать, я в первую очередь попытался понять, почему мы используем сетку базовых линий.

## Причины использования сетки базовых линий

Как я упомянул ранее, базовые линии, это визуальное проявление вертикального ритма на практике. **Суть использования базовых линий - это упрощение контроля за соблюдением вертикального ритма на странице.**

**Вертикальный ритм**, в свою очередь, **важен тем, что мы используем принцип повторяемости**. Если быть точным, то мы повторяем пространственные соотношения. Я вдавался в подробности назначения вертикального ритма [в предыдущей статье](ссссылка), так что вы модете просмотреть ее, если хотите узнать об этом больше.

Так как мы следуем принципу повторяемости, то чтобы узнать так ли это важно, размещать текст непосредственно на базовой линии, мы попробуем повторить большее количество элементов.

## Стравнение сетки базовых линий в печати и в вебе

Я решил сравнить сетки бок о бок, повторяя большее количество элементов. Вот результат:

Фух, так слишком сложно сравнить результаты, потому что нам мешает сетка, давайте уберем ее и посмотрим вновь.

Сейчас намного лучше.

Обратите внимание на пространственный ритм между этими двумя реализациями. Что вы думаете?

Мне кажется, набор с печатной сеткой создает более согласующийся ритм. Во втором варианте ритм, кажется, немного нарушается с появлением заголовка первого уровня. (Этот эффект возникает благодаря нескольким "дополнительным" пикселям между заголовком и параграфом).

А теперь давайте добавим еще по одному компоненту с кажой стороны:

В этом случае сетка, использующаяся в вебе уже не выглядит такой неисправной, не правда ли? Кажется, что **разница между печатной сеткой и веб-вариантом становится незначительной с увеличением количества повторяющихся элементов**.

Подождите. Не делайте поспешных выводов. Здесь есть еще, что обсудить.

Чем ближе к веб-дизайну, тем меньше используется чисто текстовых элементов используется. Иногда мы имеем дело с такими элементами, как кнопки, содержащими некторый текст.

<span class="web-typography-broken-btn">Кнопка</span>

Когда вы имеете дело с кнопкой, то как вы располложите ее относительно базовых линий? Поставите ее края, текст или и то и другое на базовые линии?

Как Sassline Джейка, так и MegaType Тома, кажется, предлагают третий вариант (поместить и края кнопки и ее тест на базовые линии):

Лично я не согласен с реализациями Sassline и MegaType, потому странно видеть кнопку с неравными внутренними отступами сверху и снизу. Я обнаружил, что ритм в этом случае сбивается моментально.

Вместо того, чтобы принимать эти решения, как истину, я решил протестировать все три варианта, чтобы увидеть, какой вариант лучше смотрится по отношению к остальным. Вот 4 результата (плюс вариант с реализацией сетки в вебе):

Когда я писал стили для этого теста, я немного уменьшил размер шрифта заголовка первого уровня (с `2em` до `1.728em`, используя модульную градацию с соотношением 1.2), для того чтобы сравнение получилось более реалистичным.

Когда я поменял размер шрифта заголовка, я понял, что необходимо создать дополнительную сетку в половину хода основной сетки, потому что в первом примере без этого все смотрится непонятно.

Давайте я уберу сейчас сетку и вы попробуете сравнить результаты. Какой вы предпочитаете?

Варианты 1, 2 и 4 (считая слева), смотрятся почти одинаково, разве нет?

Только третий вариант выделяется из этого визуального ряда. Очевидно, что вертикальное пространство между заголовочным элементом и текстом гораздо меньше, чем вертикальное пространоство между самим заголовком и краем заголовочного элемента. Ритм в этом случае нарушен.

Поскольку варианты 1, 2 и 4 идентичны, стоит ли прилагать дополнительные усилия, чтобы установить текст на базовую линию?

¯\\\_(ツ)_/¯

Оставлю это на ваше усмотрение.

Двигаясь дальше, я хотел бы заметить, что предыдущие четыре варианта являются лишь гипотетическими сценариями, было бы неплохо протестировать нечто более реальное. Так что в следующем разделе я решил рассмотреть 3 сайта с замечательным дизайном и проверить, размещают ли там текстовые элементы согласно печатной сетке базовых линий.

## Вертикальный ритм на реальных веб-сайтах

Для себя я выбрал сайты  [Medium](https://medium.com/), [Awwwards](http://www.awwwards.com/) и [Dribbble](https://dribbble.com/), так как я считаю, они имеют очень хороший дизайн. Давайте я расскажу вам о своих изысканиях.

### Тематическое исследование 1: Medium

Medium обладает красивым дизайном и большим количеством текста. Лучший вариант для тестирования вертикального ритма.

Чтобы провести тематическое исследование, я взял [случайную статью](https://medium.com/@deanvipond/explaining-graphic-design-to-four-year-olds-fe9257ffaf3d#.hk353i17k) и исследовал тег `<p>`.

Тут я обнаружил, что Medium использует размер шрифта `21px` и высоту строки `1.58`. Это означает, что базовая линия должна получиться `21px * 1.58 = 33.18px`.

*Заметка: Medium меняет значеение `font-size` в зависимости от ширины экрана. То, что я указал выше, соответствует размеру шрифта при просмотре на настольном компьютере.*

Следующим шагом создаем сетку базовых линий на Medium с помощью `repeating-linear-gradient()`. Вот, что получилось:

*Заметка: я тестировал сетку в Firefox, который являтся на данный момент единственным браузером на моем компьютере, который не подвержен ошибкам с округлением субпикселей.*

Разве Medium неизменно соблюдает вертикальный ритм? Нет.

Когда я углубился дальше, я заметил, что Medium использует `margin` в `29px` между параграфами, который немного смещает вертикальный ритм. Также там используется `margin` в `56px` на всех `<h3>` элементах, который немногим меньше чем `2 * 29px`.

**Так что вот вам пища для ума: действительно ли у Medium неудачный дизайн, засчет того, что они не следуют в точности вертикальному ритму?**

Давайте посмотрим на оставшиеся сайты, прежде чем я отвечу на этот вопрос, исходя из своих изысканий.

### Тематическое исследование 2: Awwwards

Дизайн Awwwards имеет радикальные отличается от дизайна Medium. Я взял его, потому что хотел посмотреть насколько точно сайты, сфокусированные на изображениях, следуют вертикальному ритму.

Здесь не так уж много текста на странице, но я нашел один параграф, который подходит для вычисления базовой линии.

Здесь я увидел, что Awwwards использует размер шрифта в `16px` и высоту строки `1.9`.

Это означает, что у Awwwards должна быть базовая линия с таким размером: `16px * 1.9 = 30.4px`. Вот как это выглядит при наложении вычисленной сетки:

Итак, разве Awwwards следует вертикальному ритму? Нет.

Когда я посмотрел стили подробнее, я обнаружил, что Awwwards повторяет `padding` в `20px` в некоторых местах:

В то же время не похоже, что Awwwards пытается установить текст на базовую линию, я не обнаружил никаких хаков и поправок отступов, которые присущи Sassline и MegaType.

Еще одна пища для ума: разве дизайн Awwwards проигрывает, потому что не следует вертикальному ритму в точности?

Давайте посмотрим на последний вариант, прежде чем я сделаю заключение.

### Тематическое исследование 3: Dribbble

Для третьего теста я пытался подобрать страницу, на которой будут использоваться как изображения, так и текст, чтобы проверить такой типаж на применение вертикального ритма. Я выбрал страницу показа работ дизайнеров для проведения теста.

На этой странице используется размер шрифта в `16px` и высота строки `1.5`, что означает, что размер базовой линии это `24px`.

Итак, разве Dribbble неукоснительно следует принципу вертикального ритма? Нет.

Просматривая код дальше, я заметил что Dribbble использует отступ в `5px` во многих местах.

Однако Dribbble использует отступ между параграфами в `14px`! 😱😱😱 Разница в 1px! (`5px * 3 = 15px`).

Итак... Еще раз, разве дизайн Dribbble провальный, только за счет того, что не следует идельному вертикальному ритму?

Вы уже убедились, что все эти три сайта не следуют четкому принципу вертикального ритма. Однако, я думаю, вы со мной согласны, что сайты имеют замечательный дизайн, разве нет?

## Значит вертикальный ритм не так уж важен?

Напротив, **вертикальный ритм еще как важен**. Следование ему пиксель в пиксель - нет.

Ранее, мы упомянули, что за вертикальным ритмом и базовыми линиями стоит **принцип повторяемости**.

Если вы читали мою [статью](ссссылка) на тему: почему так важен вертикальный ритм, то вы уже знаете, что **повторяемость порождает близость. Повторяемость может создать ощущение принадлежности одного элемента к другому.** Это дает ощущение будто все что мы видим, это часть одного плана.

**Чем больше элементов вы повторяете, тем целостнее смотрится дизайн.** Это также относится к любым пространственным соотношениям (в том числе и к тем, которые не совпадают с ритмом).

В предыдущих исследованиях мы обнаружили, что Awwwards повторяет пространства в `20px`, Medium повторяет `29px`, а Dribbble использует значения кратные `5px` для отступов.

**Таким образом, основной вывод отсюда - повторяемость.**

Поскольку повторяемость очень важная вещь, стоит ли размещать все в точности до пикселя и усаживать текст на базовую линию?

¯\\\_(ツ)_/¯

## Заключение

Мы прошлись через тонны материала в этой статье. В первую очередь мы говорили о разнице между сеткой базовых линий в печати и в вебе. Также мы научились приводить базовую сетку к печатному виду.

Далее мы сранили оба типа сеток вместе. Здесь, я не обнаружил почти никаких отличий между печатной сеткой и ее интернет-вариантом, когда элементы многократно повторяются.

Наконец, мы рассмотрели три сайта с замечательным дизайном с целью найти реальное приминение вертикального ритма в деле. Ни один из них не обеспечил идеального соблюдения этого концепта. Однако, мы обнаружили, что на этих сайтах присутствует повторяемость пространсвенных соотношений.

После погружения в тему вертикального ритма и сеток базовых линий, я понял для себя, что двигать пиксели и усаживать текст на базовую линию это вовсе не важно. Вместо этого, важнее усвоить принципы дизайна, которые мы сможем нарушать при необходимости.

Что вы думаете? Мне будет приятно узнать ваше мнение в комментариях.
